# üì± ChatApp - Aplicativo de Mensagens Android

Aplicativo completo de mensagens instant√¢neas para Android, desenvolvido em **Kotlin** com **Jetpack Compose**. O projeto oferece comunica√ß√£o em tempo real, suporte a m√∫ltiplos tipos de m√≠dia e integra√ß√£o com diversas APIs modernas.

## ÔøΩ Screenshots

<div align="center">

### Autentica√ß√£o e Perfil

<img src="fotosReadme/tela_login.png" width="250" alt="Tela de Login"> <img src="fotosReadme/tela_cadastrar.png" width="250" alt="Tela de Cadastro"> <img src="fotosReadme/tela_perfil_usuario.png" width="250" alt="Perfil do Usu√°rio">

### Chat e Conversas

<img src="fotosReadme/tela_home.png" width="250" alt="Tela Principal"> <img src="fotosReadme/tela_conversa.png" width="250" alt="Tela de Conversa"> <img src="fotosReadme/tela_contato.png" width="250" alt="Lista de Contatos">

### Grupos e Gerenciamento

<img src="fotosReadme/tela_criar_grupo.png" width="250" alt="Criar Grupo"> <img src="fotosReadme/tela_perfil_grupo.png" width="250" alt="Perfil do Grupo"> <img src="fotosReadme/tela_adicionar_contato.png" width="250" alt="Adicionar Contato">

### Perfis

<img src="fotosReadme/tela_perfil_outro_usuario.png" width="250" alt="Perfil de Outro Usu√°rio">

</div>

## ÔøΩüöÄ Funcionalidades Implementadas

### 1. Cadastro e Autentica√ß√£o de Usu√°rio

- ‚úÖ Login e cadastro via email/senha
- ‚úÖ Recupera√ß√£o de senha
- ‚úÖ Autentica√ß√£o persistente com Firebase Auth
- ‚úÖ Gerenciamento de sess√µes seguras

### 2. Cria√ß√£o, Listagem e Busca de Conversas

- ‚úÖ Visualizar lista de conversas/canais
- ‚úÖ Busca r√°pida por contatos/conversas existentes
- ‚úÖ Filtros inteligentes de conversas
- ‚úÖ Ordena√ß√£o por √∫ltima mensagem

### 3. Envio e Recebimento de Mensagens

- ‚úÖ Mensagens em tempo real (texto)
- ‚úÖ Sincroniza√ß√£o imediata entre dispositivos e usu√°rios
- ‚úÖ Confirma√ß√£o de envio/recebimento (status: enviada, entregue, lida)
- ‚úÖ Indicadores visuais de status das mensagens

### 4. Gerenciamento de Contatos

- ‚úÖ Adicionar/remover contatos
- ‚úÖ Importa√ß√£o de contatos do dispositivo
- ‚úÖ Lista de contatos com status online/offline
- ‚úÖ Busca de usu√°rios por email

### 5. Cria√ß√£o e Gerenciamento de Grupos

- ‚úÖ Criar grupos com m√∫ltiplos usu√°rios
- ‚úÖ Nomear/editar grupos
- ‚úÖ Adicionar/remover participantes
- ‚úÖ Perfil completo do grupo com foto
- ‚úÖ Administra√ß√£o de grupos

### 6. Envio de M√≠dia

- ‚úÖ Imagens, v√≠deos, √°udios e arquivos anexos
- ‚úÖ Visualiza√ß√£o pr√©via de imagens e v√≠deos
- ‚úÖ Grava√ß√£o de √°udio em tempo real
- ‚úÖ C√¢mera integrada para fotos
- ‚úÖ Suporte a m√∫ltiplos formatos de arquivo

### 7. Perfil do Usu√°rio

- ‚úÖ Editar nome, foto e informa√ß√µes pessoais
- ‚úÖ Status do usu√°rio (online/offline, ocupado, ausente, n√£o incomodar)
- ‚úÖ Bio personalizada
- ‚úÖ Visualiza√ß√£o de perfil de outros usu√°rios

### 8. Interface de Chat Amig√°vel

- ‚úÖ Exibi√ß√£o de mensagens agrupadas por data/hora
- ‚úÖ Bolhas de conversa com cores diferenciadas
- ‚úÖ Avatares de usu√°rio com status
- ‚úÖ Suporte a emojis e stickers
- ‚úÖ Design Material 3 moderno

### 9. Sincroniza√ß√£o em Tempo Real e Offline

- ‚úÖ Sincroniza√ß√£o r√°pida entre dispositivos
- ‚úÖ Armazenamento local para uso offline
- ‚úÖ Atualiza√ß√£o autom√°tica ao voltar online
- ‚úÖ Firebase Realtime Database

### 10. Chamadas de Voz e V√≠deo

- ‚úÖ Chamadas individuais e em grupo
- ‚úÖ Integra√ß√£o com ZegoCloud
- ‚úÖ Interface de convite para chamadas
- ‚úÖ Suporte a m√∫ltiplos participantes

### 11. Logout e Encerramento de Sess√£o

- ‚úÖ Encerrar sess√£o de forma segura
- ‚úÖ Gerenciar m√∫ltiplas sess√µes em diferentes dispositivos
- ‚úÖ Limpeza de dados locais no logout

### 12. Notifica√ß√µes Push

- ‚úÖ Notifica√ß√µes para chamadas de voz/v√≠deo
- ‚úÖ Sistema FCM configurado
- ‚úÖ Gerenciamento b√°sico de notifica√ß√µes

### 13. Mensagens Fixadas

- ‚úÖ Permitir que o usu√°rio selecione uma mensagem importante e a fixe no topo do chat
- ‚úÖ √çcone de fixar em cada mensagem
- ‚úÖ √Årea no topo do chat para exibir mensagem fixada
- ‚úÖ Op√ß√£o para desfixar mensagens
- ‚úÖ Indicador visual de mensagens fixadas

### 14. Filtro de Mensagens por Palavra-chave

- ‚úÖ Campo de busca dentro da conversa
- ‚úÖ Filtrar mensagens que contenham palavra/express√£o espec√≠fica
- ‚úÖ Destacar texto encontrado nas mensagens
- ‚úÖ Busca em tempo real conforme o usu√°rio digita
- ‚úÖ Navega√ß√£o entre resultados encontrados

## üõ†Ô∏è Tecnologias Utilizadas

### Frontend

- **Kotlin** - Linguagem principal
- **Jetpack Compose** - Interface moderna e declarativa
- **Material Design 3** - Sistema de design
- **Navigation Compose** - Navega√ß√£o entre telas
- **Dagger Hilt** - Inje√ß√£o de depend√™ncias

### Backend e Servi√ßos

- **Firebase Authentication** - Autentica√ß√£o
- **Firebase Realtime Database** - Banco em tempo real
- **Firebase Cloud Messaging** - Notifica√ß√µes push
- **Firebase Storage** - Armazenamento de arquivos
- **Supabase Storage** - Storage alternativo para m√≠dias
- **ZegoCloud** - Chamadas de voz/v√≠deo

## ‚öôÔ∏è Configura√ß√£o e Instala√ß√£o

### Pr√©-requisitos

- Android Studio Arctic Fox ou superior
- SDK Android 26+ (Android 8.0)
- Conta Firebase
- Conta Supabase
- Conta ZegoCloud

## üîê Seguran√ßa e Configura√ß√£o de Credenciais

‚ö†Ô∏è **IMPORTANTE**: Este projeto cont√©m arquivos de exemplo para proteger dados sens√≠veis.

### Arquivos que voc√™ precisa configurar:

1. **Copie e configure os arquivos de exemplo:**

   ```bash
   # Copie os arquivos de exemplo
   cp app/google-services.json.example app/google-services.json
   cp app/src/main/java/com/example/chatapp/Const.kt.example app/src/main/java/com/example/chatapp/Const.kt
   ```

2. **Nunca commite os seguintes arquivos:**

   - `app/google-services.json` (cont√©m credenciais Firebase)
   - `app/src/main/java/com/example/chatapp/Const.kt` (cont√©m credenciais ZegoCloud)
   - Qualquer arquivo `.keystore` ou `.jks`

3. **Configure suas credenciais nos arquivos apropriados seguindo as instru√ß√µes abaixo.**

### 1. Configura√ß√£o do Firebase

#### 1.1. Criar Projeto Firebase

1. Acesse [Firebase Console](https://console.firebase.google.com/)
2. Clique em "Adicionar projeto"
3. Nomeie o projeto como "ChatApp"
4. Ative o Google Analytics (opcional)

#### 1.2. Configurar Authentication

1. No console Firebase, v√° para "Authentication" > "Sign-in method"
2. Ative "Email/Password"
3. Configure dom√≠nios autorizados se necess√°rio

#### 1.3. Configurar Realtime Database

1. V√° para "Realtime Database" > "Criar banco de dados"
2. Escolha localiza√ß√£o (preferencialmente pr√≥xima aos usu√°rios)
3. Configure as seguintes **Rules de Seguran√ßa**:

```json
{
  "rules": {
    ".read": "auth != null",
    ".write": "auth != null",
    "users": {
      ".indexOn": "email"
    }
  }
}
```

#### 1.4. Configurar Cloud Messaging

1. V√° para "Cloud Messaging"
2. Gere uma nova chave do servidor
3. Configure as configura√ß√µes do FCM

#### 1.5. Configurar Storage

1. V√° para "Storage" > "Come√ßar"
2. Configure as regras de seguran√ßa:

```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      allow read, write: if request.auth != null;
    }
  }
}
```

#### 1.6. Baixar google-services.json

1. V√° para "Configura√ß√µes do projeto" > "Seus aplicativos"
2. Clique em "Adicionar app" > Android
3. Registre o app com o package name: `com.example.chatapp`
4. **IMPORTANTE**: Cole o **SHA-1** do seu certificado de debug:
   ```bash
   # Para obter o SHA-1:
   keytool -list -v -keystore ~/.android/debug.keystore -alias androiddebugkey -storepass android -keypass android
   ```
5. Baixe o arquivo `google-services.json`
6. Coloque em `app/google-services.json`

### 2. Configura√ß√£o do Supabase

#### 2.1. Criar Projeto Supabase

1. Acesse [Supabase](https://supabase.com/)
2. Crie uma nova organiza√ß√£o e projeto
3. Anote a URL e a chave anon do projeto

#### 2.2. Configurar Storage Buckets

1. V√° para "Storage" no dashboard Supabase
2. Execute o script `create-buckets.sql` no SQL Editor:

```sql
-- Criar buckets para diferentes tipos de m√≠dia
insert into storage.buckets (id, name, public) values ('chatapp_images', 'chatapp_images', true);
insert into storage.buckets (id, name, public) values ('chatapp_videos', 'chatapp_videos', true);
insert into storage.buckets (id, name, public) values ('chatapp_audios', 'chatapp_audios', true);
insert into storage.buckets (id, name, public) values ('chatapp_files', 'chatapp_files', true);

-- Pol√≠ticas de acesso p√∫blico
create policy "Public Access" on storage.objects for select using (bucket_id in ('chatapp_images', 'chatapp_videos', 'chatapp_audios', 'chatapp_files'));
create policy "Public Upload" on storage.objects for insert with check (bucket_id in ('chatapp_images', 'chatapp_videos', 'chatapp_audios', 'chatapp_files'));
create policy "Public Update" on storage.objects for update using (bucket_id in ('chatapp_images', 'chatapp_videos', 'chatapp_audios', 'chatapp_files'));
create policy "Public Delete" on storage.objects for delete using (bucket_id in ('chatapp_images', 'chatapp_videos', 'chatapp_audios', 'chatapp_files'));
```

#### 2.3. Configurar Credenciais

1. Abra `SupabaseStorageUtils.kt`
2. Substitua a URL e chave pelos seus dados:

```kotlin
val supabase = createSupabaseClient(
    "SUA_URL_SUPABASE_AQUI",
    "SUA_CHAVE_ANON_AQUI"
)
```

### 3. Configura√ß√£o do ZegoCloud

#### 3.1. Criar Conta ZegoCloud

1. Acesse [ZegoCloud Console](https://console.zegocloud.com/)
2. Crie uma conta e novo projeto
3. V√° para "Projects" > "Manage"

#### 3.2. Obter Credenciais

1. Na se√ß√£o "App Information", copie:
   - **AppID** (n√∫mero)
   - **AppSign** (string)

#### 3.3. Configurar no App

1. Abra `Const.kt`
2. Substitua as credenciais:

```kotlin
val AppID: Long = SEU_APP_ID_AQUI
val AppSign = "SEU_APP_SIGN_AQUI"
```

### 4. Configura√ß√£o de Emuladores (Opcional)

Para configurar m√∫ltiplos emuladores Android:

1. Execute o PowerShell como Administrador
2. Rode o script de configura√ß√£o:
   ```powershell
   .\setup-emulators.ps1
   ```

Este script configura automaticamente:

- DNS dos emuladores
- Conectividade de rede
- Configura√ß√µes de m√∫ltiplos emuladores

### 5. Executar o Projeto

1. Clone o reposit√≥rio:

   ```bash
   git clone https://github.com/AlonsoRafael/AndroidStudio_ChatApp.git
   ```

2. Abra o projeto no Android Studio

3. Certifique-se de que todas as configura√ß√µes est√£o corretas

4. Execute o projeto em um dispositivo ou emulador

## üì± Permiss√µes Necess√°rias

O app solicita as seguintes permiss√µes:

- `INTERNET` - Conectividade
- `CAMERA` - C√¢mera para fotos/v√≠deos
- `RECORD_AUDIO` - Grava√ß√£o de √°udio
- `READ_CONTACTS` - Lista de contatos
- `READ_MEDIA_*` - Acesso √† galeria
- `SYSTEM_ALERT_WINDOW` - Overlays de chamada

## üéØ Estrutura do Projeto

```
app/src/main/java/com/example/chatapp/
‚îú‚îÄ‚îÄ feature/
‚îÇ   ‚îú‚îÄ‚îÄ auth/          # Autentica√ß√£o (login, registro, recupera√ß√£o)
‚îÇ   ‚îú‚îÄ‚îÄ chat/          # Tela de chat e funcionalidades
‚îÇ   ‚îú‚îÄ‚îÄ home/          # Tela principal
‚îÇ   ‚îú‚îÄ‚îÄ profile/       # Perfis de usu√°rio
‚îÇ   ‚îú‚îÄ‚îÄ groups/        # Gerenciamento de grupos
‚îÇ   ‚îú‚îÄ‚îÄ contacts/      # Lista de contatos
‚îÇ   ‚îî‚îÄ‚îÄ notifications/ # Sistema de notifica√ß√µes
‚îú‚îÄ‚îÄ model/             # Modelos de dados
‚îú‚îÄ‚îÄ config/            # Configura√ß√µes Firebase
‚îú‚îÄ‚îÄ manager/           # Gerenciadores (status, etc.)
‚îú‚îÄ‚îÄ ui/                # Componentes de interface
‚îî‚îÄ‚îÄ utils/             # Utilit√°rios
```

## ü§ù Contribui√ß√£o

1. Fa√ßa um fork do projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## üìÑ Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

## üìû Contato

Rafael Alonso - [@AlonsoRafael](https://github.com/AlonsoRafael)

Link do Projeto: [https://github.com/AlonsoRafael/AndroidStudio_ChatApp](https://github.com/AlonsoRafael/AndroidStudio_ChatApp)
